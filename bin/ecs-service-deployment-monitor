#!/usr/bin/env node

var ecsServiceDeploymentMonitor = require('../');

var argv = require('yargs')
  .demand([ 'cluster', 'service', 'task-definition' ])
  .argv;

var options = {
  cluster: argv.cluster,
  service: argv.service,
  taskDefinition: argv.taskDefinition
};

var stream = ecsServiceDeploymentMonitor(options);

stream.on('error', (err) => {
  throw err;
});

stream.on('data', (data) => {
  console.log(data);
});
